<button id="btnTest">Cek AI</button>
<pre id="output">Belum ada hasil...</pre>

<script>
document.getElementById("btnTest").addEventListener("click", async () => {
  const output = document.getElementById("output");
  output.textContent = "‚è≥ Memproses...";

  const prompt = "Analisa XAUUSD hari ini, beri probabilitas Buy/Sell";

  try {
    const res = await fetch("/api/ai", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ prompt })
    });
    const data = await res.json();
    output.textContent = JSON.stringify(data, null, 2);
  } catch(err) {
    output.textContent = `Error: ${err.message}`;
  }
});
</script>
